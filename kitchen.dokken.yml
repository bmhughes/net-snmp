---
driver:
  name: dokken
  privileged: true
  chef_version: current

transport:
  name: dokken

provisioner:
  name: dokken
  deprecations_as_errors: false

platforms:
- name: centos-7
  driver:
    image: dokken/centos-7
    pid_one_command: /usr/lib/systemd/systemd
    intermediate_instructions:
       - RUN /usr/bin/yum makecache -y -q
       - RUN /usr/bin/yum install rsync -y
       - RUN /usr/bin/yum install libselinux-utils -y
    volumes:
      - /tmp/gitlab-runner-artifacts:/var/gitlab-runner-artifacts
- name: centos-8
  driver:
    image: dokken/centos-8
    pid_one_command: /usr/lib/systemd/systemd
    intermediate_instructions:
       - RUN /usr/bin/yum makecache -y -q
       - RUN /usr/bin/yum install rsync -y
       - RUN /usr/bin/yum install libselinux-utils -y
    volumes:
      - /tmp/gitlab-runner-artifacts:/var/gitlab-runner-artifacts
- name: fedora-31
  driver:
    image: dokken/fedora-31
    pid_one_command: /usr/lib/systemd/systemd
    intermediate_instructions:
       - RUN /usr/bin/yum makecache -y -q
       - RUN /usr/bin/yum install rsync -y
       - RUN /usr/bin/yum install libselinux-utils -y
    volumes:
      - /tmp/gitlab-runner-artifacts:/var/gitlab-runner-artifacts
...
